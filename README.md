# Предсказание дефолта по данным карточных транзакций
Целью проекта было предсказать выход в дефолт клиента на основании его транзакционных данных.

## Данные
Для каждого клиента был дан список транзакций, для каждой транзакции был известен следующий набор признаков:
- app_id - Идентификатор заявки.
- amnt - Нормированная сумма транзакции
- currency - Идентификатор валюты транзакции
- operation_kind - Идентификатор типа транзакции
- card_type - Уникальный идентификатор типа карты
- operation_type - Идентификатор типа операции по пластиковой карте
- operation_type_group - Идентификатор группы карточных операций (дебетовая карта, кредитная карта)
- ecommerce_flag - Признак электронной коммерции
- payment_system - Идентификатор типа платежной системы
- income_flag - Признак списания/внесения денежных средств на карту
- mcc - Уникальный идентификатор типа торговой точки
- country - Идентификатор страны транзакции
- city - Идентификатор города транзакции
- mcc_category - Идентификатор категории магазина транзакции
- day_of_week - День недели, когда транзакция была совершена
- hour - Час, когда транзакция была совершена
- days_before - Количество дней до даты выдачи кредита
- weekofyear - Номер недели в году, когда транзакция была совершена
- hour_diff - Количество часов с момента прошлой транзакции для данного клиента
- transaction_number - Порядковый номер транзакции клиента

## Предобработка признаков
На основе исходных данных было сгенерировано 1280 признаков:
- Основые статистики для числовых признаков: min, max, std, mean, 25%, 50%, 75%
- Мода и количество уникальных значений для категориальных
- Счетчики для значений категориальных переменных
- Сумма amount отдельно для списаний и зачислений
- Все признаки выше для последних 20% транзакций
- Последние значения для всех признаков
- Отношение первого значения amount к последнему 

## Feature selection
Были отфильтрованы константные признаки и сильно скореллированные признаки (> 0.95). Далее, для фильтрации признаков я использовала feature permutation, оставив 550 лучших признаков. 

## Модель
В качестве итоговой модели я использовала CatBoost, гиперпараметры были подобраны с помощью optuna. 

             | F1            | Roc-auc       | Accuracy      |
-------------| ------------- | ------------- | ------------- |
  validation | 0.70          | 0.78          | 0.70          |
  test       | 0.72          | 0.80          | 0.72          |

